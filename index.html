<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" type="text/css" href="css/indexStyle.css">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css" rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        
        <script>
            // get
            $(document).ready(function(){
                $.ajax({
                    url : 'http://localhost:8080/Ubots/Projeto/filmes.json',
                    type : 'GET',
                    success : function(result) {
                        $.each(result, function() {
                            $.each(this, function(i, filme) {
                                $('<tr>').append(
                                    $('<td>').text(filme.id),
                                    $('<td>').text(filme.nome_filme),
                                    $('<td>').text(filme.created),
                                    $('<td>').text(filme.modified),
                                    $('<td>').text(filme.nota_filme),
                                    $('<td>').text(filme.visualizado),                            
                                    $('<td>').append("<a id='testeEdicao' class='btn btn-default' href='editarFilme.html?id=" + filme.id + "'" +"><em class='fa fa-pencil'></em></a>")
                                             .append("<a id='deletarFilme' class='btn btn-default' href='deletarFilme.html?id=" + filme.id + "'" +"><em class='fa fa-trash'></em></a>"),
                                ).appendTo('#records_table');
                            });
                        });
                        // $("#testeEdicao").click(function(e){
                        //     console.log('ok');
                        // });
                    }                    
                });
            });
        </script>
    </head>
    <body>
        <table id="records_table">
            <tr>
                <th>ID</th>
                <th>Nome</th>
                <th>Criado</th> 
                <th>Modificado</th> 
                <th>Nota</th>
                <th>Visualizado</th> 
                <th> 
                    <a class="button btn-default" tooltip="Novo Filme" href="adicionarFilme.html"><em class="fa fa-plus-circle"></em></a>
                    <em class="fa fa-cog"></em>
                </th>
            </tr>
        </table>
    </body>
</html>
